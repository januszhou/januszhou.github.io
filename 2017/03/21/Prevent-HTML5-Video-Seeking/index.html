<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Prevent HTML5 Video Seeking | Janus&#39;s Blog | Free to look around</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="theme-color" content="#3F51B5">
  
  
  <meta name="keywords" content="">
  <meta name="description" content="Problem on IOS


    If you don&apos;t want user skip part of video, on HTML web page, you probably want disable controls on Video tag. However, on IOS, even you disable it, QuickPlay will still">
<meta property="og:type" content="article">
<meta property="og:title" content="Prevent HTML5 Video Seeking">
<meta property="og:url" content="http://januszhou.com/2017/03/21/Prevent-HTML5-Video-Seeking/index.html">
<meta property="og:site_name" content="Janus's Blog">
<meta property="og:description" content="Problem on IOS


    If you don&apos;t want user skip part of video, on HTML web page, you probably want disable controls on Video tag. However, on IOS, even you disable it, QuickPlay will still">
<meta property="og:updated_time" content="2017-03-21T01:05:39.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Prevent HTML5 Video Seeking">
<meta name="twitter:description" content="Problem on IOS


    If you don&apos;t want user skip part of video, on HTML web page, you probably want disable controls on Video tag. However, on IOS, even you disable it, QuickPlay will still">
  
    <link rel="alternative" href="/atom.xml" title="Janus&#39;s Blog" type="application/atom+xml">
  
  <meta name="summary" content="Free to look around">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="loading" class="active"></div>

  <nav id="menu" class="hide" >
   <div class="inner flex-row-vertical">
  <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
      <i class="icon icon-lg icon-close"></i>
  </a>
  <div class="brand-wrap">
    <div class="brand">
      <a href="/" class="avatar"><img src="/img/icon1.jpg"></a>
      <hgroup class="introduce">
        <h5 class="nickname">Janus Zhou</h5>
        <a href="mailto:janus.zhou1005@gmail.com" title="janus.zhou1005@gmail.com" class="mail">janus.zhou1005@gmail.com</a>
      </hgroup>
    </div>
  </div>
  <div class="scroll-wrap flex-col">
    <ul class="nav">
      
          <li class="waves-block waves-effect">
            <a href="/"  >
              <i class="icon icon-lg icon-home"></i>
              Home
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="/archives"  >
              <i class="icon icon-lg icon-archives"></i>
              Archives
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="/tags"  >
              <i class="icon icon-lg icon-tags"></i>
              Tags
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="https://github.com/januszhou" target="_blank" >
              <i class="icon icon-lg icon-github"></i>
              Github
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="https://www.linkedin.com/in/janus-zhou-5b560682" target="_blank" >
              <i class="icon icon-lg icon-linkedin"></i>
              LinkedIn
            </a>
          </li>
      
    </ul>

    <footer class="footer">
  <p><a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0;vertical-align:middle;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAAllBMVEUAAAD///+rsapERER3d3eIiIjMzMzu7u4iIiKUmZO6v7rKzsoODg4RERFVVVUNDQ0NDg0PEA8zMzNLTEtbXltmZmZydnF9gn2AgICPkI+ZmZmqqqq7u7vFxsXIzMgNDQwZGRkgICAhISEkJSMnKCcuMC4xMzE5Ozk7PTtBQkFCQkJDQ0Nna2eGhoaHh4ezuLLGysbd3d1wVGpAAAAA4UlEQVR42q2T1xqCMAyFk7QsBQeKA9x7j/d/OSm22CpX0nzcpA1/T05aAOuBVkMAScQFHLnEwoCo2f1TnQIGoVMewjZEjVFN4GH1Ue1Cn2jWqwfsOOj6wDwGvotsl/c8lv7KIq1eLOsT0HMFHMIE/RZyHnlphryT9zyV+8WH5e8yQw3wnQvgAFxPTKUVi555SHR/lOfLMgVTeDlSfN+TaoUsiTyeIm+bCkHvCA2FUKG48LDtYBZBknsYP/G8NTw0gaaHyuQf4H5pecrB/FYCT2sL9zAfy1Xyjou6L8X2W7YcLyBZCRtnq/zfAAAAAElFTkSuQmCC" /></a></p>
  <p>Janus&#39;s Blog &copy; 2017</p>
  <p>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme
  <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></p>
  <a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-2x icon-rss-square"></i></a>
</footer>

  </div>
</div>

  </nav>
  <main id="main">
    <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Prevent HTML5 Video Seeking</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input " autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-share">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header">
  <div class="container">
    <h1 class="author">Prevent HTML5 Video Seeking</h1>
    <h5 class="subtitle">
        
            <time datetime="2017-03-21T00:31:01.000Z" itemprop="datePublished" class="page-time">
  2017-03-21
</time>


        
    </h5>
  </div>
</header>

    <div class="container body-wrap">
      <article id="post-Prevent-HTML5-Video-Seeking" 
  class="article article-type-post" itemprop="blogPost">
    <div class="post-meta flex-row">
        
    </div>
    <div class="post-body">
        <aside class="post-widget" id="post-widget">

            
            <div class="post-share" id="post-share">
    <div class="tit">Share：</div>
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" href="javascript:;" data-title="Weibo" data-service="tsina">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns" href="javascript:;" data-title="Wechat" data-service="weixin">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" href="javascript:;" data-title=" QQ" data-service="cqq">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" href="javascript:;" data-title=" Facebook" data-service="fb">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" href="javascript:;" data-title=" Twitter" data-service="twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="douban share-sns" href="javascript:;" data-title="Douban" data-service="douban">
          豆
        </a>
      </li>
    </ul>
 </div>

            

            
            <nav class="post-toc-wrap" id="post-toc">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#"><span class="post-toc-text">
    
    Problem on IOS
</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-text">HTML</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#undefined"><span class="post-toc-text">JS</span></a></li></ol></li></ol>
            </nav>
            
        </aside>

        <div class="post-main">

            <div class="post-content" id="post-content" itemprop="postContent">
            
<h2 id="">
    <a href="#Why-I-created-this-tool" class="headerlink" title="Why I created this tool"></a>
    Problem on IOS
</h2>
<p>
    If you don't want user skip part of video, on HTML web page, you probably want disable controls on Video tag. However, on IOS, even you disable it, QuickPlay will still shows progress bar. Following code demonstrate how to do it.
</p>
<a id="more"></a>


<h3>HTML</h3>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;video id=&quot;video&quot; controls autoplay muted&gt;</div><div class="line">  &lt;source src=&quot;https://vjs.zencdn.net/v/oceans.mp4&quot; type=&quot;video/mp4&quot;&gt;</div><div class="line">&lt;/video&gt;</div></pre></td></tr></table></figure>

<h3>JS</h3>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">var video = document.getElementById(&apos;video&apos;);</div><div class="line">var supposedCurrentTime = 0;</div><div class="line">video.addEventListener(&apos;timeupdate&apos;, function() &#123;</div><div class="line">  if (!video.seeking) &#123;</div><div class="line">		supposedCurrentTime = video.currentTime;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// prevent user from seeking</div><div class="line">video.addEventListener(&apos;seeking&apos;, function() &#123;</div><div class="line">  // guard agains infinite recursion:</div><div class="line">  // user seeks, seeking is fired, currentTime is modified, seeking is fired, current time is modified, ....</div><div class="line">  var delta = video.currentTime - supposedCurrentTime;</div><div class="line">  // delta = Math.abs(delta); // disable seeking previous content if you want</div><div class="line">  if (delta &gt; 0.01) &#123;</div><div class="line">    video.currentTime = supposedCurrentTime;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">video.addEventListener(&apos;ended&apos;, function() &#123;</div><div class="line">  // reset state in order to allow for rewind</div><div class="line">	supposedCurrentTime = 0;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>

<div class="row">
  <div class="col-sm-12">
    <video id="video" class="center-block" controls autoplay muted>
      <source src="https://vjs.zencdn.net/v/oceans.mp4" type="video/mp4">
    </video>
  </div>
</div>

<script type="text/javascript">
  var video = document.getElementById('video');
  var supposedCurrentTime = 0;
  var maxProgressTime = 0;
  video.addEventListener('timeupdate', function() {
    if (!video.seeking) {
      if(video.currentTime > maxProgressTime){
        maxProgressTime = video.currentTime;
      }

      supposedCurrentTime = video.currentTime;
    }
  });
  // prevent user from seeking
  video.addEventListener('seeking', function() {
    // console.log('Current time', video.currentTime );
    // guard agains infinite recursion:
    // user seeks, seeking is fired, currentTime is modified, seeking is fired, current time is modified, ....
    var delta = video.currentTime - supposedCurrentTime;
    // if (delta > 0.01 || video.currentTime >= maxProgressTime) {
    //   // console.log("Seeking is disabled");
    //
    //   if(video.currentTime >= maxProgressTime){
    //     video.currentTime = maxProgressTime;
    //   } else {
    //     video.currentTime = supposedCurrentTime;
    //   }
    // }

    if (delta > 0.01) {
      // console.log("Seeking is disabled");
      video.currentTime = supposedCurrentTime;
    }
  });
  // delete the following event handler if rewind is not required
  video.addEventListener('ended', function() {
    // reset state in order to allow for rewind
    // supposedCurrentTime = 0;
  });
</script>


            
            
            <blockquote>
                <p>
                Link：
                <a href="http://januszhou.com/2017/03/21/Prevent-HTML5-Video-Seeking/" target="_blank" rel="external">http://januszhou.com/2017/03/21/Prevent-HTML5-Video-Seeking/</a>
                </p>
                <footer><cite><a href="http://januszhou.com">@Janus's Blog</a></cite></footer>
            </blockquote>
            </div>
            
<nav class="post-nav">
  

  
    <div class="waves-block waves-effect next fr">
      <a href="/2017/03/11/SSH-Auto-List/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">SSH Auto</h4>
      </a>
    </div>
  
</nav>


            
            


<section id="comments">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'januszhou'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


        </div>
    </div>
</article>
    </div>
  </main>
<div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>

<script>
var BLOG_SHARE = {
    title: "Prevent HTML5 Video Seeking",
    pic: "/img/icon1.jpg",
    summary: document.getElementsByName('summary')[0].content,
    url: "http://januszhou.com/2017/03/21/Prevent-HTML5-Video-Seeking/index.html"
};
</script>
<div class="global-share" id="global-share">
    <div class="tit">Share：</div>
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" href="javascript:;" data-title="Weibo" data-service="tsina">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns" href="javascript:;" data-title="Wechat" data-service="weixin">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" href="javascript:;" data-title=" QQ" data-service="cqq">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" href="javascript:;" data-title=" Facebook" data-service="fb">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" href="javascript:;" data-title=" Twitter" data-service="twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="douban share-sns" href="javascript:;" data-title="Douban" data-service="douban">
          豆
        </a>
      </li>
    </ul>
 </div>




<script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<script src="/js/main.js"></script>



<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<script type="text/template" id="search-tpl">
<li class="item">
    <a href="/{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</script>

<script src="/js/search.js"></script>







<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-85344115-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



</body>
</html>
